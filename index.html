<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AuraCare - Mobiilidemo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap');

        :root {
            --background-color: #2E3D32; /* Tumma vihreÃ¤ tausta */
            --phone-background: #f0f2f5; /* Puhelimen vaalea tausta */
            --button-bg: #6ab04c;      /* VihreÃ¤ nappi */
            --button-hover-bg: #5a943f;
            --text-color: #333;
            --indicator-text: #fff;
        }

        body {
            margin: 0;
            font-family: 'Roboto', sans-serif;
            background-color: var(--background-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: var(--text-color);
        }

        .phone-screen {
            width: 100%;
            max-width: 400px;
            height: 800px;
            background-color: var(--phone-background);
            border-radius: 30px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .main-content {
            flex-grow: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
            /* === VAIHDA TÃ„HÃ„N OIKEA KUVA === */
            background-image: url('image_49fecb.jpg'); 
            background-size: cover;
            background-position: center;
        }

        .status-bar {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.5);
            color: var(--indicator-text);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            z-index: 10;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
        }

        .status-bar.visible {
            opacity: 1;
            visibility: visible;
        }

        .button-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            padding: 20px;
            background-color: #ffffff;
            border-top: 1px solid #ddd;
        }

        .action-button {
            padding: 15px 10px;
            background-color: var(--button-bg);
            color: white;
            border: none;
            border-radius: 12px;
            font-size: 1em;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s ease;
            text-align: center;
        }

        .action-button:hover {
            background-color: var(--button-hover-bg);
        }

        .action-button small {
            display: block;
            font-size: 0.75em;
            opacity: 0.8;
            margin-top: 4px;
        }
    </style>
</head>
<body>
<div style="position: fixed; top: 100px; left: 10px; width: 250px; background-color: #fff8dc; padding: 15px; border-radius: 12px; box-shadow: 2px 2px 6px rgba(0,0,0,0.2); z-index: 999;">
    <h3>Miksi AuraCare?</h3>
    <ul>
        <li>Torjuu yksinÃ¤isyyttÃ¤ â€“ tuttujen Ã¤Ã¤nten vuorovaikutus</li>
        <li>Keskustelut muistuttavat perheen yhteydestÃ¤</li>
        <li>Laajennettavissa: lÃ¤Ã¤kkeet, juominen, turvallisuus</li>
        <li>Kustannustehokas â€“ ei vaadi uutta laitetta</li>
        <li>Skalautuu miljoonille vanhuksille Euroopassa</li>
    </ul>
</div>

<div style="position: fixed; top: 100px; right: 10px; width: 220px; background-color: #e0f7fa; padding: 12px; border-radius: 12px; box-shadow: 2px 2px 6px rgba(0,0,0,0.2); z-index: 999;">
    <h4>Hallintapaneeli</h4>
    <p><strong>Asetetut muistutukset:</strong></p>
    <ul>
        <li>LÃ¤Ã¤kkeet klo 9:00</li>
        <li>Juominen klo 11:00 ja 14:00</li>
        <li>Yhteydenotto klo 18:00</li>
    </ul>
</div>


    <div class="phone-screen">
        <div id="statusBar" class="status-bar"></div>
        <div class="main-content">
            </div>
        <div class="button-grid">
            <button class="action-button" onclick="playMedicineReminder()">ðŸ’Š LÃ¤Ã¤kemuistutus</button>
            <button class="action-button" onclick="playDrinkingReminder()">ðŸ’§ Juomamuistutus</button>
            <button class="action-button" onclick="playEmergency()">ðŸš¨ HÃ¤tÃ¤tilanne</button>
            <button class="action-button" onclick="playDashboard()">ðŸ“Š Hallintapaneeli</button>
        </div>
    </div>

    <script>
        let timeoutIds = [];
        let currentSpeech = null;

        // --- DIALOGIT ---
        const mainConversation = [
            { speaker: 'Timo', text: 'Ã„iti, Timo tÃ¤Ã¤llÃ¤.', delay: 1500 },
            { speaker: 'Hilma', text: 'Moi!', delay: 2000 },
            { speaker: 'Timo', text: 'Jutellaanko vÃ¤hÃ¤n?', delay: 2000 },
            { speaker: 'Hilma', text: 'Joo, mie kÃ¤vin tÃ¤nÃ¤Ã¤n kaupassa ja ostin nakkeja. Teen nakkikastikkeen ja keitÃ¤n perunoita.', delay: 8000 },
            { speaker: 'Timo', text: 'Kuulostaa herkulliselta.', delay: 3000 },
            { speaker: 'Hilma', text: 'Oli sinun herkkuruokaa lapsena.', delay: 3000 },
            { speaker: 'Timo', text: 'KyllÃ¤ kyllÃ¤. Nyt jatkan omia tÃ¶itÃ¤.', delay: 4000 },
            { speaker: 'Hilma', text: 'Heippa!', delay: 1500 },
            { speaker: 'Timo', text: 'Heippa. Soittelen taas huomenna.', delay: 3000 },
            { speaker: 'Hilma', text: 'HyvÃ¤ hyvÃ¤.', delay: 2000 }
        ];

        const medicineReminder = [
            { speaker: 'Timo', text: 'Ã„iti, onko aika ottaa aamulÃ¤Ã¤kkeet?', delay: 4000 },
            { speaker: 'Hilma', text: 'KyllÃ¤ poikaseni, pitÃ¤isi ottaa ne.', delay: 3000 },
            { speaker: 'Timo', text: 'HyvÃ¤ Ã¤iti! KÃ¤y ottamassa ne rauhassa. Odotan viisi sekuntia.', delay: 6000 },
            { speaker: 'Hilma', text: 'Odotetaan...', delay: 5000 }, // Tauko
            { speaker: 'Timo', text: 'Otitko lÃ¤Ã¤kkeet?', delay: 2000 },
            { speaker: 'Hilma', text: 'KyllÃ¤, otin kaikki tablettini.', delay: 3000 },
            { speaker: 'Timo', text: 'Erinomaista Ã¤iti! NÃ¤itÃ¤ lÃ¤Ã¤kkeitÃ¤ otetaan: VerenpainelÃ¤Ã¤ke, D-vitamiini ja Kalsium. Kaikki tÃ¤rkeÃ¤Ã¤ terveydellesi.', delay: 10000 },
            { speaker: 'Hilma', text: 'Kiitos ettÃ¤ muistutit, Timo kulta.', delay: 3000 },
            { speaker: 'System', text: 'âœ… LÃ¤Ã¤kkeet otettu turvallisesti', delay: 3000 }
        ];

        const drinkingReminder = [
            { speaker: 'Timo', text: 'Ã„iti, oletko juonut tÃ¤nÃ¤Ã¤n vettÃ¤?', delay: 3000 },
            { speaker: 'Hilma', text: 'En vielÃ¤ paljoa poikaseni...', delay: 3000 },
            { speaker: 'Timo', text: 'TÃ¤mÃ¤ on tÃ¤rkeÃ¤Ã¤! KÃ¤y hakemassa iso lasi vettÃ¤ nyt heti. Erityisesti lÃ¤Ã¤kkeiden kanssa pitÃ¤Ã¤ juoda riittÃ¤vÃ¤sti.', delay: 9000 },
            { speaker: 'Hilma', text: 'Odotetaan...', delay: 5000 }, // Tauko
            { speaker: 'Hilma', text: 'Join nyt lasillisen, Timo kulta.', delay: 3000 },
            { speaker: 'Timo', text: 'Hienoa Ã¤iti! Muista juoda vettÃ¤ koko pÃ¤ivÃ¤n ajan. Tavoite on 6â€“8 lasia pÃ¤ivÃ¤ssÃ¤.', delay: 8000 },
            { speaker: 'Hilma', text: 'YritÃ¤n muistaa, kiitos kun huolehdit.', delay: 3000 },
            { speaker: 'System', text: 'âœ… Nestetasapaino hoidettu', delay: 3000 }
        ];

        const emergencyScenario = [
            { speaker: 'System', text: 'ðŸš¨ HÃ„TÃ„TILANNE havaittu! ðŸš¨', delay: 3000 },
            { speaker: 'Timo', text: 'Ã„iti, kuulin kolinaa! Onko kaikki kunnossa?', delay: 4000 },
            { speaker: 'Hilma', text: 'Timo kulta, kaaduin vÃ¤hÃ¤n mutta en satuttanut itseÃ¤ni.', delay: 5000 },
            { speaker: 'Timo', text: 'Olen huolissani Ã¤iti. PystytkÃ¶ liikkumaan normaalisti? Tarkistan ettÃ¤ olet kunnossa.', delay: 7000 },
            { speaker: 'Hilma', text: 'KyllÃ¤ pystyn, en loukannut mitÃ¤Ã¤n.', delay: 3000 },
            { speaker: 'Timo', text: 'HyvÃ¤ Ã¤iti! Mutta jos tuntuu pahalta, soita heti 112. Ilmoitan myÃ¶s Timolle.', delay: 7000 },
            { speaker: 'System', text: 'âœ… HÃ¤tÃ¤tilanne kÃ¤sitelty turvallisesti', delay: 3000 }
        ];

        const dashboardInfo = [
            { speaker: 'Timo', text: 'NÃ¤ytetÃ¤Ã¤n hallintapaneeli.', delay: 2000 },
            { speaker: 'Timo', text: 'TÃ¤ssÃ¤ on Timon hallintapaneeli. Aamun lÃ¤Ã¤kkeet kello kahdeksan. Illan lÃ¤Ã¤kkeet kello kahdeksantoista.', delay: 9000 },
            { speaker: 'Timo', text: 'Juomamuistutus kahden tunnin vÃ¤lein. Viimeksi kello kymmenen kolmekymmentÃ¤.', delay: 7000 },
            { speaker: 'Timo', text: 'LÃ¤heiset: Timo, poika: 040-123-4567. Anna, tytÃ¤r: 050-987-6543.', delay: 9000 },
            { speaker: 'Timo', text: 'TÃ¤mÃ¤n pÃ¤ivÃ¤n tilastot: LÃ¤Ã¤kkeet otettu: 1/2. VettÃ¤ juotu: 3 lasia. Keskusteluja: 2. Kaatumisia: 0.', delay: 11000 }
        ];
        
        // --- TOIMINNALLISUUS ---

        function clearAllDemos() {
            timeoutIds.forEach(id => clearTimeout(id));
            timeoutIds = [];
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            const statusBar = document.getElementById('statusBar');
            statusBar.classList.remove('visible');
        }

        function speak(text, onEndCallback = () => {}) {
            if (!('speechSynthesis' in window)) {
                console.error("Selain ei tue puhesynteesiÃ¤.");
                onEndCallback();
                return;
            }
            if (speechSynthesis.speaking) {
                speechSynthesis.cancel();
            }
            
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'fi-FI';
            utterance.rate = 0.95;
            utterance.onend = onEndCallback;
            utterance.onerror = () => {
                console.error("PuhesynteesissÃ¤ tapahtui virhe.");
                onEndCallback();
            };
            
            currentSpeech = utterance;
            speechSynthesis.speak(utterance);
        }

        function playDialogue(dialogue) {
            clearAllDemos();
            const statusBar = document.getElementById('statusBar');
            let cumulativeDelay = 500;

            dialogue.forEach(turn => {
                const timeoutId = setTimeout(() => {
                    let statusText = '';
                    let shouldSpeak = false;

                    if (turn.speaker === 'Timo') {
                        statusText = 'Timo puhuu... ðŸŽ™ï¸';
                        shouldSpeak = true;
                    } else if (turn.speaker === 'Hilma') {
                        statusText = 'Hilma vastaa...';
                        shouldSpeak = false; // Hilman "Ã¤Ã¤ni" on vain tauko
                    } else { // System
                        statusText = turn.text;
                        shouldSpeak = false;
                    }
                    
                    statusBar.textContent = statusText;
                    statusBar.classList.add('visible');

                    if (shouldSpeak) {
                        speak(turn.text);
                    }
                    
                }, cumulativeDelay);

                timeoutIds.push(timeoutId);
                cumulativeDelay += turn.delay;
            });
            
            // Piilota status-palkki lopuksi
            const finalTimeoutId = setTimeout(clearAllDemos, cumulativeDelay + 1000);
            timeoutIds.push(finalTimeoutId);
        }
        
        // Nappien kÃ¤sittelijÃ¤t
        function playMedicineReminder() { playDialogue(medicineReminder); }
        function playDrinkingReminder() { playDialogue(drinkingReminder); }
        function playEmergency() { playDialogue(emergencyScenario); }
        function playDashboard() { playDialogue(dashboardInfo); }
        
        // KÃ¤ynnistÃ¤ pÃ¤Ã¤keskustelu automaattisesti sivun latautuessa
        window.onload = () => {
            // Pieni viive ennen kuin aloitetaan, jotta sivu ehtii latautua kunnolla
            setTimeout(() => {
                playDialogue(mainConversation);
            }, 1000);
        };
    </script>

</body>
</html>
<!-- TODO: LisÃ¤Ã¤ Hilman puhe samasta Ã¤Ã¤nestÃ¤ kuin Timolla (Text-to-Speech, esim. ResponsiveVoice) -->
